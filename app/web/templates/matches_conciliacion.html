{% extends "base.html" %}
{% import "macros.html" as macros %}

{% block title %}Matches Conciliación #{{ conciliacion.id }}{% endblock %}

{% block content %}
<div class="mb-4">
    <a href="/conciliaciones/detalle/{{ conciliacion.id }}" class="btn btn-outline-secondary">
        <i class="bi bi-arrow-left me-2"></i>Volver al Detalle
    </a>
</div>

<div class="row mb-4">
    <div class="col-md-3">
        <div class="match-stats">
            <div class="stat-value-large" id="total-matches">0</div>
            <div class="text-muted">Total Matches</div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="match-stats">
            <div class="stat-value-large" id="exact-matches">0</div>
            <div class="text-muted">Exactos</div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="match-stats">
            <div class="stat-value-large" id="approximate-matches">0</div>
            <div class="text-muted">Aproximados</div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="match-stats">
            <div class="stat-value-large" id="manual-matches">0</div>
            <div class="text-muted">Manuales</div>
        </div>
    </div>
</div>

<div class="filter-section">
    <div class="row align-items-center">
        <div class="col-md-6">
            <h5 class="mb-0"><i class="bi bi-filter me-2"></i>Filtrar Matches</h5>
        </div>
        <div class="col-md-6">
            <select class="form-select" id="filterCriterio" onchange="Filtros.filtrarPorCriterio('matchesContainer', 'filterCriterio', 'criterio')">
                <option value="todos">Todos los tipos</option>
                <option value="exacto">Solo Exactos</option>
                <option value="aproximado">Solo Aproximados</option>
                <option value="manual">Solo Manuales</option>
            </select>
        </div>
    </div>
</div>

<div id="matches-container" data-conciliacion-id="{{ conciliacion.id }}">
    <!-- Los datos serán cargados dinámicamente por JavaScript -->
</div>
<script src="/static/js/matches_y_manuales.js" type="module"></script>
{% endblock %}

